{%- assign section_image_desktop = section.settings.image_desktop -%}
{%- assign section_image_mobile = section.settings.image_mobile -%}
{%- assign section_link = section.settings.link -%}
{%- assign section_color = section.settings.color -%}

<div data-section-id="{{ section.id }}">
  <div class="image-block full text-center" style="background-color: {{ section_color }}">

    {% if section_link != blank %}<a href="{{ section_link }}">{% endif %}
    {% if section_image_desktop != blank %}
    <img src="{{ section_image_desktop | img_url: 'x450' }}" alt="{{ section_image_desktop.alt }}" class="hidden md:inline-block">
    {% endif %}

    {% if section_image_mobile != blank %}
    <img src="{{ section_image_mobile | img_url: '568x' }}" alt="{{ section_image_mobile.alt }}" class="inline-block sm:hidden">
    {% endif %}
    {% if section_link != blank %}</a>{% endif %}

  </div>

  <section class="gray py-3 md:py-10 text-center rewards-text">
    <div class="container">
      <h1>{{ section.settings.title_1 }}</h1>
      {{ section.settings.text_1 }}

      {% if customer %}
        <a href="/" class="btn btn-primary big mb-8">Shop Now</a>
      {% else %}
        <a href="/account/" class="btn btn-primary big mb-8">Join Now</a>
      {% endif %}

      {{ section.settings.text_2 }}
    </div>
  </section>

  <section class="py-3 md:py-10 text-center rewards-text">
    <div class="container">
      <h2>{{ section.settings.title_2 }}</h2>
      {{ section.settings.text_3 }}
    </div>
  </section>
</div>

{% schema %}
{
  "name": "Block 1",
  "settings": [
    {
      "type": "image_picker",
      "id": "image_desktop",
      "label": "Image (Desktop)"
    },
    {
      "type": "image_picker",
      "id": "image_mobile",
      "label": "Image (Mobile)"
    },
    {
      "type": "url",
      "id": "link",
      "label": "Link"
    },
    {
      "type": "color",
      "id": "color",
      "label": "Color"
    },
    {
      "type": "header",
      "content": "Text"
    },
    {
      "type": "text",
      "id": "title_1",
      "label": "Title"
    },
    {
      "type": "richtext",
      "id": "text_1",
      "label": "Text"
    },
    {
      "type": "header",
      "content": "Text after join now"
    },
    {
      "type": "richtext",
      "id": "text_2",
      "label": "Text"
    },
    {
      "type": "header",
      "content": "How it works"
    },
    {
      "type": "text",
      "id": "title_2",
      "label": "Title"
    },
    {
      "type": "richtext",
      "id": "text_3",
      "label": "Text"
    }
  ]
}
{% endschema %}